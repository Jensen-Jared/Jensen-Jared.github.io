<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>CIT 261 - Local Storage API</title>
	<link rel="stylesheet" type="text/css" href="style.css" media="screen">	
	
	<script type="text/javascript">
				var bandList = new Array();
		function addBand() {
			bandList.push(document.getElementById('names').value);
			
					localStorage.setItem("bands", JSON.stringify(bandList));
					document.getElementById('names').value='';
					document.getElementById("outputDiv").innerHTML = "Your favorite bands are: " + bandList; + " "
		}
		
		function reset(){
			bandList = [];
			document.getElementById("outputDiv").innerHTML = "";
		}
		
		function retrieve(){
			document.getElementById("outputDiv2").innerHTML = localStorage.bands + " See, I don't forget!";
		}
		
		function coolness(){
		var retrieve = localStorage.getItem("bands");
			var names = JSON.parse(retrieve);
			for (i = 0; i < names.length; i++){
				var random = Math.floor((Math.random() * 50) + 1);
				if (names[i] == document.getElementById("name2").value){
						if (random < 25){
							document.getElementById("outputDiv3").innerHTML = names[i] + " totally rocks! (Blast it loud!)";
							break;
						}else{
							document.getElementById("outputDiv3").innerHTML = names[i] + " is lame! (Listen in secret.)";
							break;
						}
				} else{
					document.getElementById("outputDiv3").innerHTML = "You don't listen to " + document.getElementById("name2").value + ".";
				}
				
			}
			
			
			}
			
			function story(){
				var madLib = {
				
					"verb":document.getElementById('verb').value,
					"person":document.getElementById('person').value,
					"verb2":document.getElementById('verb2').value,
					"noun":document.getElementById('noun').value,
					"noun2":document.getElementById('noun2').value,
					
				};
				localStorage.setItem("story", JSON.stringify(madLib));
				var retrieveStory = localStorage.getItem("story");
				var story = JSON.parse(retrieveStory);
				
				document.getElementById("outputDiv4").innerHTML = "Let it " + story.verb + ", let it " + story.verb + "!<br>Can't hold it back anymore.<br>Let it " + story.verb + ", let it " + story.verb + "!<br>Turn away and " + story.verb2 + " the door.<br>I don't care what they're going to say!<br>Let the " + story.noun + " rage on.<br>The " + story.noun2 + " never bothered " + story.person + " anyway.";
				
			}
			
			function storyLast(){
				var retrieveStory = localStorage.getItem("story");
				var story = JSON.parse(retrieveStory);
				
				document.getElementById("outputDiv4").innerHTML = "Let it " + story.verb + ", let it " + story.verb + "!<br>Can't hold it back anymore.<br>Let it " + story.verb + ", let it " + story.verb + "!<br>Turn away and " + story.verb2 + " the door.<br>I don't care what they're going to say!<br>Let the " + story.noun + " rage on.<br>The " + story.noun2 + " never bothered " + story.person + " anyway.";
				
			}
			
			function setProfile(){
				this.name = document.getElementById('name').value;
				this.age = document.getElementById('age').value;
				this.location = document.getElementById('location').value;
				this.color = document.getElementById('color').value;
				this.myProfile = function(){
					return "Name: " + this.name + "<br>" +
					"Age: " + this.age + "<br>" +
					"Location: " + this.location + "<br>" +
					"Favorite Color: " + this.color + "<br>";
				}
				
			}
			
			function create(){
				var newProfile = new setProfile();
				localStorage.setItem("profile", JSON.stringify(newProfile));
				document.getElementById("outputDiv5").innerHTML = newProfile.myProfile();
				
			}
			
			function remember(){
				var retrieveProfile = localStorage.getItem("profile");
				var profileText = JSON.parse(retrieveProfile);
				document.getElementById("outputDiv5").innerHTML = "Name: " + profileText.name + "<br>" +
					"Age: " + profileText.age + "<br>" +
					"Location: " + profileText.location + "<br>" +
					"Favorite Color: " + profileText.color + "<br>";
			}
			
			function styleIt(){
				var styleArray = {
					"color":document.getElementById('boxColor').value,
					"width":document.getElementById('width').value + "px",
					"height":document.getElementById('height').value + "px",
					"diameter":document.getElementById('rounded').value + "px",
					};
					
				document.getElementById("storageStyle").style.background = styleArray["color"];
				document.getElementById("storageStyle").style.width = styleArray["width"];
				document.getElementById("storageStyle").style.height = styleArray["height"];
				document.getElementById("storageStyle").style.borderRadius = styleArray["diameter"];
				
				localStorage.setItem("style", JSON.stringify(styleArray));
				}
				
			function rememberStyle(){
				var retrieveStyle = localStorage.getItem("style");
				var returnedStyle = JSON.parse(retrieveStyle);
				
				document.getElementById("storageStyle").style.background = returnedStyle.color;
				document.getElementById("storageStyle").style.width = returnedStyle.width;
				document.getElementById("storageStyle").style.height = returnedStyle.height;
				document.getElementById("storageStyle").style.borderRadius = returnedStyle.diameter;
			}
			
	</script>
	
</head>

<body>
	<header>
	<a href="main.html">
		<h1>CIT 261 - J.D. Jensen</h1>
		<h2>Application Development</h2>
	</a>
	</header>
	<div class="background">
		<h2>Local Storage API:</h2>
		<h3>Check Your Taste in Music!</h3>
		<p>Are you worried that the bands you like are lame? Do you want to feel more confident about rocking your jams in public? I am here to help! Start by typing in the name of a band or artist you listen to. Type in as many as you like, one at a time.</p>
		<input type="text" id="names"></input>
		<button onclick="addBand()">Enter Band or Artist name</button>
		<button onclick="reset()">Reset Band List</button>
		<div id="outputDiv"></div>
	
		<p>Check my knowledge! (I remember your bands, even if you refresh the page! Making a new band list will reset/replace the old one stored.)</p>
		<button onclick="retrieve()">Retrieve Band List</button>
		<div id="outputDiv2"></div>
		
		<p>Now, it's the moment of truth! Let's see if is the music you listen to is cool or lame. Enter the name of a band or artist you mentioned to me earlier.</p>
		<input type="text" id="name2"></input>
		<button onclick="coolness()">Check Coolness</button>
		<div id="outputDiv3"></div>
		
		<h3>Madlibs</h3>
		<p>Now let's write your own song! Enter the following words below:<p>
		<input type="text" id="person" placeholder="Person"></input><br>
		<input type="text" id="noun" placeholder="Noun"></input><br>
		<input type="text" id="verb" placeholder="Verb"></input><br>
		<input type="text" id="noun2" placeholder="Another Noun"></input><br>
		<input type="text" id="verb2" placeholder="Another Verb"></input><br>
		<button onclick="story()">Write the Song!</button>
		<button onclick="storyLast()">Remember Previous Song</button>
		<div id="outputDiv4"></div>
		
		<h3>Objects</h3>
		<p>Let's create an object to store into local storage. Enter your details:</p>
		<input type="text" id="name" placeholder="Name"></input><br>
		<input type="text" id="age" placeholder="Age"></input><br>
		<input type="text" id="location" placeholder="Location"></input><br>
		<input type="text" id="color" placeholder="Favorite Color"></input><br>
		<button onclick="create()">Create Profile</button><button onclick="remember()">Remember Profile</button>
		<div id="outputDiv5"></div>
		
		<h3>Style</h3>
		<p>Give this box your own style:</p>
		<input type="text" id="boxColor" placeholder="Color"></input><br>
		<input type="text" id="width" placeholder="Width"></input><br>
		<input type="text" id="height" placeholder="Height"></input><br>
		<input type="text" id="rounded" placeholder="Edge Diameter"></input><br>
		<button onclick="styleIt()">Style It</button><button onclick="rememberStyle()">Remember Style</button><br><br>
		<div id="storageStyle"></div>

	<footer>
		<p>Copyright 2017 - J.D. Jensen</p>
	<footer>
	</div>
	
	</body>
</html>